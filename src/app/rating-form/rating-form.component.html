<div class="flex flex-col gap-5 items-center">
    @for(product of productList; track $index){
    <div class="flex gap-3 items-center">
        <p class="font-semibold">{{$index + 1}} </p>
        <img [src]="product.image" alt="" class="w-20 h-auto">
        <div class="grid grid-cols-5 gap-3">
            <p class="col-span-2">{{product.title}} </p>
            <button class="bg-blue-500 rounded-md text-white px-3 col-span-3 font-medium py-1 h-fit"
                (click)="ratingForm($index)">Rate this item </button>
        </div>
        @if(productList[$index].ratingStatus == true){
        <div class="px-5 py-1 bg-green-500 text-white">Rated</div>
        }@else {
        <div class="px-5 py-1 bg-green-500 text-white">Not rated yet</div>
        }
    </div>
    }
    @if(reviewFormStatus){
    <div class="absolute h-screen w-screen bg-transparent/30 flex justify-center">
        <form
            class="relative w-1/2 h-96 mx-auto container border border-gray-500 bg-white rounded-lg p-5 mt-32 flex justify-start"
            [formGroup]="reviewForm">
            <div class="flex justify-start">
                <img [src]="productList[index].image" alt=""
                    class="absolute w-24 h-24 -top-8 border-2 border-white rounded-md left-[350px] ">
                <div class="flex flex-col gap-2 justify-start pt-20">
                    <div class="flex gap-5 items-center">
                        <p>Rating:</p>
                        <div class="flex gap-1">
                            <i class="fa-solid fa-star text-yellow-300" (click)="updateValue(1)"></i>
                            <i class="fa-solid fa-star text-yellow-300" (click)="updateValue(2)"></i>
                            <i class="fa-solid fa-star text-yellow-300" (click)="updateValue(3)"></i>
                            <i class="fa-solid fa-star text-yellow-300" (click)="updateValue(4)"></i>
                            <i class="fa-solid fa-star text-yellow-300" [(click)="updateValue(5)"></i>
                        </div>
                    </div>
                    <div class="flex gap-5 w-full">
                        <p>Comment:</p>
                        <textarea class="w-full px-2 py-1 h-20 border rounded-md" formControlName="comment"></textarea>
                    </div>
                    <button type="submit"
                        class="bg-blue-500 rounded-md text-white font-medium px-7 py-1 w-fit disabled:cursor-not-allowed disabled"
                        [disabled]="!reviewForm.valid" (click)="onSubmit(index)">Submit</button>
                </div>
            </div>

        </form>
    </div>

    }